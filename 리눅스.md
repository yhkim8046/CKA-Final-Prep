Pod ì‹¤í–‰ & í…ŒìŠ¤íŠ¸ (kubectl run)
# ìž„ì‹œ Pod ìƒì„± (ìžë™ ì‚­ì œ)
kubectl run test --image=busybox:1.28 -it --rm --restart=Never -- sh

# íŠ¹ì • ëª…ë ¹ ì‹¤í–‰ í›„ ì¢…ë£Œ
kubectl run example --image=busybox:1.28 --restart=Never -- sleep 3600

# nslookup í…ŒìŠ¤íŠ¸
kubectl run dns-test --image=busybox:1.28 --rm -it --restart=Never -- nslookup kubernetes.default

ðŸ”¹ Pod ì•ˆì—ì„œ ëª…ë ¹ ì‹¤í–‰ (kubectl exec)
# íŒŒë“œ ì•ˆì— ë“¤ì–´ê°€ê¸° (interactive shell)
kubectl exec -it mypod -- sh
kubectl exec -it mypod -- bash    # (ì»¨í…Œì´ë„ˆì— bash ìžˆëŠ” ê²½ìš°)

# íŒŒë“œ ì•ˆì—ì„œ ëª…ë ¹ ì‹¤í–‰
kubectl exec mypod -- ls -l /
kubectl exec mypod -- cat /etc/hosts

ðŸ”¹ Pod ìƒì„± í›„ command/args ì§€ì •
kubectl run mypod --image=busybox --restart=Never --command -- sh -c "echo hello; sleep 3600"


--command ì˜µì…˜ ë¶™ì´ë©´ ë’¤ì— ì˜¤ëŠ” ê²Œ ì»¨í…Œì´ë„ˆ entrypoint commandê°€ ë¨.

ðŸ”¹ kubectl logs
# ë¡œê·¸ ë³´ê¸°
kubectl logs mypod

# ì‹¤ì‹œê°„ ë¡œê·¸ (follow)
kubectl logs -f mypod

# ì—¬ëŸ¬ ì»¨í…Œì´ë„ˆ ì¤‘ íŠ¹ì • ì»¨í…Œì´ë„ˆ ë¡œê·¸
kubectl logs mypod -c sidecar

ðŸ”¹ kubectl describe
kubectl describe pod mypod
kubectl describe node worker-1
kubectl describe svc myservice


â†’ TroubleShooting ë¬¸ì œì—ì„œ ê°€ìž¥ ìžì£¼ ì“°ìž„.

ðŸ”¹ JSONPath
# Podì˜ IP
kubectl get pod mypod -o jsonpath='{.status.podIP}{"\n"}'

# Pod ì´ë¯¸ì§€ ì´ë¦„
kubectl get pod mypod -o jsonpath='{.spec.containers[0].image}{"\n"}'

ðŸ”¹ ë¦¬ëˆ…ìŠ¤ ë„¤íŠ¸ì›Œí¬ & ë””ë²„ê¹…
# DNS í…ŒìŠ¤íŠ¸
nslookup kubernetes.default
dig kubernetes.default.svc.cluster.local

# ë„¤íŠ¸ì›Œí¬ í™•ì¸
ping 8.8.8.8
curl http://service-name:80
wget -qO- http://service-name:80

# ì¸í„°íŽ˜ì´ìŠ¤ í™•ì¸
ip link
ip addr

# í”„ë¡œì„¸ìŠ¤/ë©”ëª¨ë¦¬ í™•ì¸
ps -ef
top
free -h

ðŸ”¹ íŒŒì¼ ì¡°ìž‘
cat /etc/hosts
tail -f /var/log/app.log
grep "error" /var/log/app.log
echo "hello" > /tmp/test.txt
