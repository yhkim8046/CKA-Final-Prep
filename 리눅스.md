Pod 실행 & 테스트 (kubectl run)
# 임시 Pod 생성 (자동 삭제)
kubectl run test --image=busybox:1.28 -it --rm --restart=Never -- sh

# 특정 명령 실행 후 종료
kubectl run example --image=busybox:1.28 --restart=Never -- sleep 3600

# nslookup 테스트
kubectl run dns-test --image=busybox:1.28 --rm -it --restart=Never -- nslookup kubernetes.default

🔹 Pod 안에서 명령 실행 (kubectl exec)
# 파드 안에 들어가기 (interactive shell)
kubectl exec -it mypod -- sh
kubectl exec -it mypod -- bash    # (컨테이너에 bash 있는 경우)

# 파드 안에서 명령 실행
kubectl exec mypod -- ls -l /
kubectl exec mypod -- cat /etc/hosts

🔹 Pod 생성 후 command/args 지정
kubectl run mypod --image=busybox --restart=Never --command -- sh -c "echo hello; sleep 3600"


--command 옵션 붙이면 뒤에 오는 게 컨테이너 entrypoint command가 됨.

🔹 kubectl logs
# 로그 보기
kubectl logs mypod

# 실시간 로그 (follow)
kubectl logs -f mypod

# 여러 컨테이너 중 특정 컨테이너 로그
kubectl logs mypod -c sidecar

🔹 kubectl describe
kubectl describe pod mypod
kubectl describe node worker-1
kubectl describe svc myservice


→ TroubleShooting 문제에서 가장 자주 쓰임.

🔹 JSONPath
# Pod의 IP
kubectl get pod mypod -o jsonpath='{.status.podIP}{"\n"}'

# Pod 이미지 이름
kubectl get pod mypod -o jsonpath='{.spec.containers[0].image}{"\n"}'

🔹 리눅스 네트워크 & 디버깅
# DNS 테스트
nslookup kubernetes.default
dig kubernetes.default.svc.cluster.local

# 네트워크 확인
ping 8.8.8.8
curl http://service-name:80
wget -qO- http://service-name:80

# 인터페이스 확인
ip link
ip addr

# 프로세스/메모리 확인
ps -ef
top
free -h

🔹 파일 조작
cat /etc/hosts
tail -f /var/log/app.log
grep "error" /var/log/app.log
echo "hello" > /tmp/test.txt
