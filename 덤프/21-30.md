Q21 〔복원〕

문제:
Namespace monitoring에 Pod node-inspector 생성

이미지: busybox

command: sleep 3600

nodeName: worker-1에 강제로 스케줄

해법:

apiVersion: v1
kind: Pod
metadata:
  name: node-inspector
  namespace: monitoring
spec:
  nodeName: worker-1
  containers:
  - name: c
    image: busybox
    command: ['sh','-c','sleep 3600']

kubectl create ns monitoring
kubectl apply -f node-inspector.yaml

Q22

문제:
sleep 3600 명령을 실행하는 busybox Pod 생성

해법:

kubectl run busybox --image=busybox --restart=Never -- /bin/sh -c "sleep 3600"

Q23 〔복원〕

문제:
Namespace dev에 Deployment nginx-dev 생성

이미지: nginx:1.21

replicas: 2

해법:

kubectl create ns dev
kubectl create deployment nginx-dev --image=nginx:1.21 -n dev --replicas=2
kubectl get deploy -n dev

Q24 〔복원〕

문제:
ClusterRole pod-reader 생성, Pod에 대해 get, list, watch 권한 부여.
Namespace development에서 ServiceAccount john에게 바인딩.

해법:

kubectl create clusterrole pod-reader --verb=get,list,watch --resource=pods
kubectl create rolebinding john-binding --clusterrole=pod-reader \
  --serviceaccount=development:john -n development

Q25 〔복원〕

문제:
ConfigMap app-settings에서 app.conf를 Pod에 볼륨으로 마운트.
Pod 이름: multi-cm-pod, Namespace: dev-ns, 컨테이너 2개(nginx, busybox).

해법:

apiVersion: v1
kind: Pod
metadata:
  name: multi-cm-pod
  namespace: dev-ns
spec:
  volumes:
  - name: config-vol
    configMap:
      name: app-settings
      items:
      - key: app.conf
        path: app.conf
  containers:
  - name: cm-pod1
    image: nginx:1.19
    volumeMounts:
    - name: config-vol
      mountPath: /etc/config
  - name: cm-pod2
    image: busybox:1
    command: ['sh','-c','while true; do cat /etc/config/app.conf; sleep 10; done']
    volumeMounts:
    - name: config-vol
      mountPath: /etc/config

Q26

문제:
Pod nginx-dev의 IP 주소 확인

해법:

kubectl get pod nginx-dev -o wide
# 또는
kubectl get pod nginx-dev -o jsonpath='{.status.podIP}{"\n"}'

Q27 〔복원〕

문제:
Helm을 이용해 설치된 Release kk-mock1(Chart nginx)을 18.1.15 버전으로 upgrade.

해법:

helm repo update
helm upgrade kk-mock1 nginx --version=18.1.15 -n kk-ns

Q28 〔복원〕

문제:
Namespace mc-namespace의 Pod mc-pod가 CrashLoopBackOff 상태일 때 원인 분석 및 수정.

컨테이너: nginx:1-alpine

포트 설정 누락

해법:

kubectl describe pod mc-pod -n mc-namespace
# 원인 파악 후 매니페스트 수정 예시
kubectl edit pod mc-pod -n mc-namespace
# spec.containers[0].ports 추가
ports:
- containerPort: 80

Q29

문제:
모든 Pod의 이름과 네임스페이스를 JsonPath로 출력

해법:

kubectl get pods -A -o=jsonpath='{range .items[*]}{.metadata.name}{"\t"}{.metadata.namespace}{"\n"}{end}'

Q30 〔복원〕

문제:
Cluster DNS(Service: kube-dns/CoreDNS) ClusterIP 확인 후, Pod에서 DNS lookup 테스트 수행.

해법:

kubectl get svc -n kube-system
# 예: kube-dns ClusterIP = 10.96.0.10

kubectl run dns-test --image=busybox:1.28 --rm -it --restart=Never -- nslookup kubernetes.default